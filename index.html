<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Taisen</title>
  <link rel="icon" type="image/png" href="original.png">
  <link rel="stylesheet" href="style.css?v=20250901">
</head>
<body>

  <!-- Header -->
  <header>
    <section class="header-section">
    </section>
  </header>

  <!-- Search Section -->
  <section class="search-section">
    <div><h1 class="site-title">Taisen</h1></div>
    <div class="search-container">
      <div class="gcse-searchbox-only" data-resultsUrl="captcha.html" data-newWindow="false"></div>
    </div>
  </section>

    <!-- Footer -->
  <footer>
    <section class="footer-section">
      <nav class="footer-links">
        <a href="about.html">About</a> 路
        <a href="advertising.html">Advertising</a> 路
        <a href="privacy.html">Privacy Policy</a> 路
        <a href="help center.html">Help Center</a> 路
        <a href="labs.html">Labs</a>
      </nav>
    </section>
  </footer>


  <!-- Google Custom Search Script -->
  <script async src="https://cse.google.com/cse.js?cx=178f66b21f928448b"></script>

  <!-- Search Logging JS -->
  <script>
    const SHEET_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbye72BaC5itl9lQNV8k8OrO_E4VjdFbqm3quUX6RnS8s9tOE_UbvVd8WBPLDhpgUp6W/exec";

    window.onload = () => {
      function initCSE() {
        if (typeof google === "undefined" || !google.search || !google.search.cse) {
          setTimeout(initCSE, 100);
          return;
        }

        const searchBox = google.search.cse.element.getElement("gcse-searchbox-only");
        if (!searchBox) return;

        const originalExecute = searchBox.execute;

        searchBox.execute = function(query) {
          console.log("User searched:", query);

          // Send search to Google Sheet
          fetch(SHEET_WEB_APP_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ query, timestamp: new Date() })
          })
          .then(res => res.json())
          .then(data => console.log("Logged:", data))
          .catch(err => console.error("Failed to log search:", err));

          // Call original search function (redirect to results.html)
          originalExecute.call(searchBox, query);
        };
      }

      initCSE();
    };
  </script>
<script>
  if (/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
    document.body.innerHTML = "<h1>Sorry, this website is not available on mobile devices.</h1>";
  }
</script>

</body>
</html>
